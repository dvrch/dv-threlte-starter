#!/bin/bash
# Guide de dÃ©marrage rapide

echo "ğŸš€ Guide de dÃ©marrage - Threlte 3D + Django + SvelteKit"
echo "========================================================"
echo ""

echo "âœ… PrÃ©requis:"
echo "   â€¢ Python 3.13+ âœ“"
echo "   â€¢ Node.js + npm âœ“"
echo "   â€¢ PostgreSQL (Neon) âœ“"
echo ""

echo "ğŸ“ Ã‰tape 1: PrÃ©paration"
echo "   â€¢ .env.local crÃ©Ã© âœ“"
echo "   â€¢ backend/settings.py configurÃ© âœ“"
echo "   â€¢ vercel.json mis Ã  jour âœ“"
echo ""

echo "ğŸš€ Ã‰tape 2: Lancer le dÃ©veloppement local"
echo ""
echo "   Option A - Deux terminaux (manuel):"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo ""
echo "   Terminal 1 - Backend Django:"
echo "   $ cd backend"
echo "   $ /home/kd/Bureau/dv-threlte-starter/.venv/bin/python manage.py runserver 0.0.0.0:8000"
echo ""
echo "   Terminal 2 - Frontend SvelteKit:"
echo "   $ npm run dev"
echo "   $ # Ouvrir http://localhost:5173"
echo ""
echo "   Option B - AutomatisÃ© (un terminal):"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   $ chmod +x dev.sh"
echo "   $ ./dev.sh"
echo ""

echo "âœ… Ã‰tape 3: VÃ©rifier que Ã§a marche"
echo ""
echo "   1. API Django:"
echo "      $ curl http://localhost:8000/api/geometries/"
echo ""
echo "   2. Frontend SvelteKit:"
echo "      $ Ouvrir http://localhost:5173/app"
echo ""
echo "   3. Vous devriez voir vos objets 3D dans la scÃ¨ne!"
echo ""

echo "ğŸŒ Ã‰tape 4: DÃ©ployer sur Vercel"
echo ""
echo "   1. Ajouter les variables d'environnement au dashboard Vercel:"
echo "      Settings > Environment Variables"
echo ""
echo "      Frontend variables:"
echo "      â€¢ PUBLIC_API_URL = https://votre-api-django.vercel.app"
echo "      â€¢ PUBLIC_STATIC_URL = https://w0cb58ft2bj7sg0v.public.blob.vercel-storage.com"
echo ""
echo "      Backend variables:"
echo "      â€¢ DEBUG = False"
echo "      â€¢ SECRET_KEY = votre-clÃ©-de-production"
echo "      â€¢ BLOB_READ_WRITE_TOKEN = (token Vercel Blob)"
echo "      â€¢ STORE_ID = store_W0CB58Ft2bj7Sg0v"
echo ""
echo "   2. Pousser le code sur GitHub:"
echo "      $ git add -A"
echo "      $ git commit -m 'feat: Django backend + SvelteKit frontend'"
echo "      $ git push origin master"
echo ""
echo "   3. Vercel dÃ©ploiera automatiquement!"
echo ""

echo "ğŸ› DÃ©pannage:"
echo ""
echo "   Les objets 3D n'apparaissent pas?"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   â€¢ VÃ©rifier: curl http://localhost:8000/api/geometries/"
echo "   â€¢ VÃ©rifier le .env.local: PUBLIC_API_URL=http://localhost:8000"
echo "   â€¢ VÃ©rifier la console du navigateur (erreurs CORS?)"
echo ""

echo "ğŸ“š Fichiers importants:"
echo ""
echo "   â€¢ .env.local ................. Config dÃ©veloppement local"
echo "   â€¢ .env ........................ Config production Vercel"
echo "   â€¢ backend/settings.py ........ Configuration Django"
echo "   â€¢ vercel.json ................ Configuration dÃ©ploiement"
echo "   â€¢ DEPLOYMENT_GUIDE_COMPLETE.md  Guide dÃ©taillÃ©"
echo ""

echo "ğŸ‰ C'est bon! Commencez le dÃ©veloppement!"
echo ""
